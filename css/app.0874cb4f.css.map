{"version":3,"sources":["webpack:///src/components/levels/Level0.vue","webpack:///src/App.vue","webpack:///src/assets/iosevka-etoile.css"],"names":[],"mappings":"AAmCA,qBACE,UAAW,CACX,4CACF,CCoDA,qDACE,uBAAwB,CACxB,qBAAsB,CACtB,6BACF,CACA,+EACE,eACF,CAEA,uBACE,UAAY,CACZ,2BACF,CAEA,4DAA6B,SAAY,CACzC,8BAAe,UAAc,CAC7B,8BAAe,UAAc,CC1G7B,WACC,8BAAiC,CACjC,iBAAkB,CAClB,eAAgB,CAChB,mBAAoB,CACpB,iBAAkB,CAClB,uEACD,CAEA,WACC,8BAAiC,CACjC,iBAAkB,CAClB,eAAgB,CAChB,mBAAoB,CACpB,iBAAkB,CAClB,sEACD,CAEA,WACC,8BAAiC,CACjC,iBAAkB,CAClB,eAAgB,CAChB,mBAAoB,CACpB,iBAAkB,CAClB,oEACD,CDuFA,EAAI,QAAS,CAAE,SAAU,CAAE,qBAAwB,CACnD,IAAM,WAAc,CACpB,MAAQ,wBAA2B,CACnC,EAAI,oBAAqB,CAAE,uBAAyB,CAAE,eAAmB,CACzE,yBAA6B,yBAA4B,CAEzD,EAAI,eAAmB,CAEvB,KACE,eAAgB,CAChB,gBAAiB,CACjB,sBAAuB,CACvB,4BAA8B,CAC9B,wBAAyB,CACzB,wBAA+B,CAC/B,aAEF,CAEA,SAHE,8BAQF,CALA,IAEE,qBAAsB,CACtB,eAAgB,CAChB,iBACF,CAEA,WACE,YAAa,CACb,kBAAmB,CACnB,iBAAkB,CAClB,qBACF,CAEA,KACE,mBAAoB,CACpB,aAAc,CACd,WAAY,CACZ,oBACF,CACA,cACE,qBAAsB,CACtB,gBAAiB,CACjB,WAAY,CACZ,UACF,CAEA,4DACE,2BACF,CACA,oDACE,SACF,CAEA,4BACE,GAAO,6BAAmC,CAC1C,GAAK,sBAAyB,CAChC,CAHA,oBACE,GAAO,6BAAmC,CAC1C,GAAK,sBAAyB,CAChC,CACA,8BACE,GAAO,6BAAmC,CAC1C,GAAK,sBAAyB,CAChC,CAHA,sBACE,GAAO,6BAAmC,CAC1C,GAAK,sBAAyB,CAChC,CAEA,SAAW,8BAAuB,CAAvB,sBAAyB,CACpC,WAAa,gCAAyB,CAAzB,wBAA2B","file":"app.0874cb4f.css","sourcesContent":["<template>\n  <p>\n    Press\n    <kbd :class=\"{ ok: hasTab }\">Tab</kbd>\n    and\n    <kbd :class=\"{ ok: hasDelete }\">Delete</kbd>\n    simultaneously\n  </p>\n</template>\n\n<script setup>\nimport { computed, reactive } from 'vue'\nimport { addWindowListener } from '../../util/window-listener'\nimport { keycode } from '../../util/keycodes'\n\nconst emit = defineEmits([ 'ok' ])\nconst keyPressed = reactive(new Set())\nconst hasTab = computed(() => keyPressed.has(keycode.TAB))\nconst hasDelete = computed(() => keyPressed.has(keycode.DELETE))\naddWindowListener('keydown', e => {\n  if (e.keyCode === keycode.TAB || e.keyCode === keycode.DELETE) {\n    e.preventDefault()\n    keyPressed.add(e.keyCode)\n    if (keyPressed.size === 2) emit('ok')\n  }\n})\naddWindowListener('keyup', e => {\n  if (e.keyCode === keycode.TAB || e.keyCode === keycode.DELETE) {\n    e.preventDefault()\n    keyPressed.delete(e.keyCode)\n  }\n})\n</script>\n\n<style scoped>\n.ok {\n  color: #4f6;\n  text-shadow: rgba(255, 255, 255, .8) 0.5px 0.5px 1px;\n}\n</style>\n","<template>\n  <main class=\"container\">\n    <div id=\"main-lines\" ref=\"mainLinesEl\" :class=\"{ notransition }\">\n      <div id=\"lines\" :class=\"{ notransition }\" ref=\"linesEl\">\n        <p\n          v-for=\"(str, i) in lines\"\n          :key=\"i\"\n          v-show=\"str\"\n          v-text=\"str\"\n          class=\"line\"\n          :class=\"{ [`line-${lines.length - i}`]: true }\"\n        />\n      </div>\n      <transition name=\"fade-in\">\n        <p v-if=\"shadowLine\" v-text=\"shadowLine\" />\n      </transition>\n      <p ref=\"refHeightEl\">to play this game.</p>\n    </div>\n    <transition name=\"fade-in\">\n      <p v-if=\"finalLine\">Thank you for playing.</p>\n    </transition>\n  </main>\n  <div id=\"instructions\" class=\"container\">\n    <transition name=\"fade\" mode=\"out-in\">\n      <component :is=\"levelComponent\" @ok=\"advance\" />\n    </transition>\n  </div>\n</template>\n\n<script setup>\nimport { nextTick, ref, reactive } from 'vue'\nimport { useLevelState } from './services/state'\nimport { isMobile } from './util/mobile'\nimport { delay } from './util/promise'\n\nconst { levelComponent, nextLevel, completed } = useLevelState()\n\nconst advance = async () => {\n  const text = nextLevel()\n  if (!completed.value) await addLine(text)\n  else await showThanks()\n}\n\nconst lines = reactive([\n  'You need two hands',\n])\nif (isMobile) lines[0] = 'You need a computer (not a mobile device)'\nconst shadowLine = ref('')\nconst finalLine = ref(false)\n\nconst linesEl = ref(null)\nconst mainLinesEl = ref(null)\nconst refHeightEl = ref(null)\n\nconst notransition = ref(false)\nconst addLine = async str => {\n  notransition.value = true\n  await nextTick()\n  shadowLine.value = str\n  lines.push('')\n  await nextTick()\n  const height = refHeightEl.value.getBoundingClientRect().height\n  linesEl.value.style.transform = `translateY(${height}px)`\n  await delay(10)\n  linesEl.value.style.transform = ''\n  notransition.value = false\n  await nextTick()\n  await delay(600)\n  shadowLine.value = ''\n  await delay(10)\n  lines.pop()\n  lines.push(str)\n}\n\nconst showThanks = async () => {\n  notransition.value = true\n  await nextTick()\n  finalLine.value = true\n  lines.push('')\n  await nextTick()\n  const height = refHeightEl.value.getBoundingClientRect().height\n  mainLinesEl.value.style.transform = `translateY(${height}px)`\n  await delay(10)\n  notransition.value = false\n  await nextTick()\n  mainLinesEl.value.style.transform = ''\n}\n</script>\n\n<style scoped>\n#lines, #main-lines {\n  transform: translateY(0);\n  will-change: transform;\n  transition: transform .5s ease;\n}\n#lines.notransition, #main-lines.notransition {\n  transition: none;\n}\n\n.line {\n  opacity: 0.4;\n  transition: opacity 0.5s ease;\n}\n\n.line.line-1, .line.line-2 { opacity: 1; }\n.line.line-3 { opacity: 0.8; }\n.line.line-4 { opacity: 0.6; }\n</style>\n\n<style src=\"./assets/iosevka-etoile.css\"></style>\n\n<style>\n* { margin: 0; padding: 0; box-sizing: border-box; }\nimg { border: none; }\ntable { border-collapse: collapse; }\na { text-decoration: none; color: inherit !important; font-weight: bold; }\na:hover, a:active, a:focus { text-decoration: underline; }\n\np { padding: 0.25em 0; }\n\nbody {\n  min-width: 100vw;\n  min-height: 100vh;\n  font-family: sans-serif;\n  font-size: calc(10px + 0.33vw);\n  background-color: #444a4f;\n  color: rgba(255, 255, 255, 0.8);\n  padding: 0 8px;\n  font-family: 'Iosevka Etoile Web';\n}\n\nkbd {\n  font-family: 'Iosevka Etoile Web';\n  border: 1px solid #9ab;\n  padding: 2px 4px;\n  border-radius: 2px;\n}\n\n.container {\n  display: flex;\n  align-items: center;\n  text-align: center;\n  flex-direction: column;\n}\n\nmain {\n  justify-content: end;\n  font-size: 3em;\n  height: 60vh;\n  padding-bottom: 1.5em;\n}\n#instructions {\n  justify-content: start;\n  font-size: 1.25em;\n  height: 40vh;\n  opacity: .8;\n}\n\n.fade-in-enter-active, .fade-enter-active, .fade-leave-active {\n  transition: opacity 0.5s ease;\n}\n.fade-in-enter-from, .fade-enter-from, .fade-leave-to {\n  opacity: 0;\n}\n\n@keyframes redlight {\n  from { background: rgba(255, 80, 64, .4); }\n  to { background: transparent; }\n}\n@keyframes greenlight {\n  from { background: rgba(80, 255, 64, .4); }\n  to { background: transparent; }\n}\n\n#app.red { animation: redlight .4s; }\n#app.green { animation: greenlight .4s; }\n</style>\n","@font-face {\n\tfont-family: 'Iosevka Etoile Web';\n\tfont-display: swap;\n\tfont-weight: 400;\n\tfont-stretch: normal;\n\tfont-style: normal;\n\tsrc: url('iosevka-etoile-regular.woff2') format('woff2');\n}\n\n@font-face {\n\tfont-family: 'Iosevka Etoile Web';\n\tfont-display: swap;\n\tfont-weight: 400;\n\tfont-stretch: normal;\n\tfont-style: italic;\n\tsrc: url('iosevka-etoile-italic.woff2') format('woff2');\n}\n\n@font-face {\n\tfont-family: 'Iosevka Etoile Web';\n\tfont-display: swap;\n\tfont-weight: 700;\n\tfont-stretch: normal;\n\tfont-style: normal;\n\tsrc: url('iosevka-etoile-bold.woff2') format('woff2');\n}\n"]}